<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hourly Payment</title>
  <script>
    // header.html を読み込んで head に追加
    fetch("header.html")
      .then(res => res.text())
      .then(data => document.head.insertAdjacentHTML("beforeend", data));
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, button {
      margin: 5px;
      padding: 8px;
      font-size: 1rem;
    }
    #result {
      margin-top: 15px;
      font-weight: bold;
      color: green;
    }
  </style>
</head>
<body>
  <header>
    <h1>Hourly Payment</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="time.html">Hourly Payment</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>You can calculate payments for hourly worker</h2>
      <p>Enter time in <strong>hh:mm</strong> format and set your hourly rate.</p>
      
      <label for="timeInput">Time (hh:mm):</label>
      <input type="text" id="timeInput" placeholder="hh:mm"><br>

      <label for="rateInput">Hourly rate:</label>
      <input type="number" id="rateInput" placeholder="e.g. 1500"><br>

      <button onclick="convertTime()">Calculate</button>
      <p id="result"></p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 My Page</p>
  </footer>

  <script>
    function convertTime() {
    const input = document.getElementById("timeInput").value.trim();
    const rate = parseFloat(document.getElementById("rateInput").value);
    const parts = input.split(":");

    if (parts.length !== 2) {
      document.getElementById("result").textContent = "Please enter time as hh:mm.";
      document.getElementById("result").style.color = "red";
      return;
    }

    const hours = parseInt(parts[0], 10);
    const minutes = parseInt(parts[1], 10);

    if (isNaN(hours) || isNaN(minutes)) {
      document.getElementById("result").textContent = "Invalid time input. Please enter numbers only.";
      document.getElementById("result").style.color = "red";
      return;
    }

    if (isNaN(rate) || rate <= 0) {
      document.getElementById("result").textContent = "Please enter a valid hourly rate.";
      document.getElementById("result").style.color = "red";
      return;
    }

    // 10進数に変換
    const decimalTime = hours + (minutes / 60);
    const pay = decimalTime * rate;

    let message =
      `Decimal time: ${decimalTime.toFixed(4)} hours<br>` +
      `Hourly rate: ${rate.toLocaleString()}<br>` +
      `Total pay: ${pay.toLocaleString()}`;

    // 88,000 以上ならメッセージを追加
    if (pay >= 88000) {
      message += `<br><span style="color:red; font-weight:bold;">⚠ Over 88,000 yen!</span>`;
    }

    document.getElementById("result").innerHTML = message;
    document.getElementById("result").style.color = "green";
  }
</script>
</body>
</html>